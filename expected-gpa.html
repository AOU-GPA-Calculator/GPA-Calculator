<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AOU GPA Calculator – Expected GPA Forecast</title>

    <meta name="description" content="Estimate your expected GPA at the end of the semester based on your current GPA, completed credit hours and this semester courses.">
    <meta name="author" content="Homam Shaaban">
    <meta name="robots" content="index, follow">

    <style>
        body {
            font-family: 'Roboto', Arial, sans-serif;
            background: #f4f6fb;
            margin: 0;
            padding: 0;
            color: #002b4c;
        }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-20px); }
            to   { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(25px); }
            to   { opacity: 1; transform: translateY(0); }
        }

        .logo-container {
            text-align: center;
            padding: 25px 0 10px;
            opacity: 0;
            animation: fadeInDown 0.7s ease-out forwards;
        }

        .logo-container img {
            width: 155px;
            height: auto;
        }

        .bg-wrapper {
            background: linear-gradient(135deg, rgba(34,193,195,1) 0%, rgba(10,93,150,1) 100%);
            padding: 40px 15px 60px;
            min-height: 100vh;
        }

        .container {
            max-width: 800px;
            margin: auto;
            background: rgba(0, 32, 63, 0.82);
            padding: 40px;
            border-radius: 18px;
            box-shadow: 0 0 25px rgba(0,0,0,0.35);
            color: #ffffff;
            position: relative;
            opacity: 0;
            animation: fadeInUp 0.8s ease-out forwards;
            animation-delay: 0.15s;
        }

        h1 {
            text-align: center;
            margin-bottom: 12px;
            font-size: 2.3em;
        }

        .subtitle {
            text-align: center;
            font-size: 0.95em;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 6px;
        }

        input, select, button {
            padding: 11px;
            margin-bottom: 15px;
            border-radius: 8px;
            border: 2px solid rgba(255,255,255,0.7);
            background: rgba(255,255,255,0.18);
            color: #ffffff;
            font-size: 1.0em;
            width: 100%;
            box-sizing: border-box;
        }

        /* --- FIXED SELECT STYLE (nice + clean + unified) --- */
        select {
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            cursor: pointer;
            background-image: url("data:image/svg+xml;utf8,<svg fill='white' height='14' viewBox='0 0 20 20' width='14' xmlns='http://www.w3.org/2000/svg'><path d='M5.516 7.548a.625.625 0 0 1 .884 0L10 11.156l3.6-3.608a.625.625 0 1 1 .884.884l-4.042 4.05a.625.625 0 0 1-.884 0L5.516 8.432a.625.625 0 0 1 0-.884z'/></svg>");
            background-repeat: no-repeat;
            background-position: right 12px center;
            background-size: 14px;
        }

        option {
            background-color: #002b4c;
            color: #ffffff;
        }

        button {
            background: #f7b500;
            color: #002b4c;
            font-weight: bold;
            cursor: pointer;
        }

        button:hover {
            background: #ffcc33;
        }

        .theme-toggle {
            width: auto;
            padding: 8px 16px;
            font-size: 0.9em;
            position: absolute;
            top: 15px;
            right: 15px;
            border-radius: 20px;
        }

        .back-home {
            width: auto;
            padding: 8px 16px;
            font-size: 0.9em;
            position: absolute;
            top: 15px;
            left: 15px;
            border-radius: 20px;
            background: transparent;
            border: 2px solid rgba(255,255,255,0.7);
            color: #ffffff;
        }

        .back-home:hover {
            background: rgba(255,255,255,0.12);
        }

        .expected-section {
            margin-top: 10px;
            padding: 16px 18px 20px;
            border-radius: 14px;
            background: rgba(0, 0, 0, 0.18);
            border: 1px solid rgba(255, 255, 255, 0.28);
        }

        .expected-grid {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 10px 20px;
        }

        .expected-actions {
            text-align: center;
        }

        .expected-result {
            margin-top: 14px;
            text-align: center;
            font-size: 1.2em;
        }

        #expected-error {
            margin-top: 8px;
            display: none;
            padding: 8px 12px;
            border-radius: 8px;
            background: rgba(255, 0, 0, 0.15);
            border: 1px solid rgba(255, 120, 120, 0.9);
            color: #ffd1d1;
        }

        footer {
            text-align: center;
            margin-top: 28px;
            font-size: 0.85em;
            opacity: 0.85;
        }

        footer a {
            color: #ffd966;
        }

        .light-mode .bg-wrapper {
            background: #e3edf7;
        }
        .light-mode .container {
            background: #ffffff;
            color: #002b4c;
        }
        .light-mode input,
        .light-mode select,
        .light-mode button {
            border-color: #ccd5e3;
            background: #f7f9fc;
            color: #002b4c;
        }
        .light-mode option {
            background-color: #ffffff;
            color: #002b4c;
        }
        .light-mode #expected-error {
            background: #ffe5e5;
            border-color: #ff9c9c;
            color: #a80000;
        }

        @media (max-width: 600px) {
            .expected-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>

    <div class="logo-container">
        <img src="aou-logo.png" alt="AOU Logo">
    </div>

    <div class="bg-wrapper">
        <div class="container">

            <button class="back-home" onclick="location.href='index.html'">← Home</button>

            <button id="theme-toggle" class="theme-toggle" onclick="toggleTheme()">
                Switch to Light Mode
            </button>

            <h1>Expected GPA Forecast</h1>
            <p class="subtitle">Estimate your GPA at the end of the semester based on your current progress.</p>

            <!-- ================= EXPECTED GPA SECTION ================= -->
            <div class="expected-section">

                <div class="expected-grid">

                    <div>
                        <label>Total completed credit hours</label>
                        <input type="number" id="completedHours" min="0" placeholder="e.g., 60">
                    </div>

                    <div>
                        <label>Current cumulative GPA (0–4)</label>
                        <input type="number" id="currentGpa" min="0" max="4" step="0.01" placeholder="e.g., 2.75">
                    </div>

                    <div>
                        <label>Credit hours this semester</label>
                        <input type="number" id="newSemesterHours" min="1" placeholder="e.g., 15">
                    </div>

                    <div>
                        <label>Input type for this semester</label>
                        <select id="expectedMode" onchange="onExpectedModeChange()">
                            <option value="gpa" selected>Expected semester GPA (0–4)</option>
                            <option value="grade">Expected average grade (0–100)</option>
                        </select>
                    </div>

                    <div>
                        <label>Expected semester GPA (0–4)</label>
                        <input type="number" id="expectedSemesterGpa" min="0" max="4" step="0.01" placeholder="e.g., 3.20">
                    </div>

                    <div>
                        <label>Expected average grade (0–100)</label>
                        <input type="number" id="expectedSemesterGrade" min="0" max="100" placeholder="e.g., 85">
                    </div>

                </div>

                <div class="expected-actions">
                    <button onclick="calculateExpectedGPA()">Calculate Expected GPA</button>
                </div>

                <div id="expected-error"></div>

                <div class="expected-result">
                    Expected GPA: <span id="expected-gpa-value">–</span>
                    <span id="expected-merit"></span>
                </div>
            </div>

            <footer>
                © 2025 – AOU GPA Calculator. Developed by Homam Shaaban.<br>
                <a href="index.html">Back to Home</a>
            </footer>

        </div>
    </div>

<script>
function toggleTheme() {
    document.body.classList.toggle("light-mode");
    document.getElementById("theme-toggle").textContent =
        document.body.classList.contains("light-mode")
        ? "Switch to Dark Mode"
        : "Switch to Light Mode";
}

function convertToGPA(g) {
    if (g >= 90) return 4.0;
    if (g >= 82) return 3.5;
    if (g >= 74) return 3.0;
    if (g >= 66) return 2.5;
    if (g >= 58) return 2.0;
    if (g >= 50) return 1.5;
    return 0.0;
}

function getMerit(g) {
    if (g >= 3.67) return { t:"– Excellent", c:"#7CFC00" };
    if (g >= 3.00) return { t:"– Very Good", c:"#ADFF2F" };
    if (g >= 2.33) return { t:"– Good", c:"#F0E68C" };
    if (g >= 2.00) return { t:"– Pass", c:"#FFD700" };
    return { t:"– Fail", c:"#FF4C4C" };
}

function onExpectedModeChange() {
    const mode = document.getElementById("expectedMode").value;
    document.getElementById("expectedSemesterGpa").disabled  = (mode !== "gpa");
    document.getElementById("expectedSemesterGrade").disabled = (mode !== "grade");

    if (mode === "gpa") document.getElementById("expectedSemesterGrade").value = "";
    else document.getElementById("expectedSemesterGpa").value = "";
}

function showError(msg) {
    const el = document.getElementById("expected-error");
    el.textContent = msg;
    el.style.display = "block";
}

function clearError() {
    const el = document.getElementById("expected-error");
    el.textContent = "";
    el.style.display = "none";
}

function calculateExpectedGPA() {
    clearError();

    const completed = Number(document.getElementById("completedHours").value);
    const currentGpa = Number(document.getElementById("currentGpa").value);
    const newHours = Number(document.getElementById("newSemesterHours").value);
    const mode = document.getElementById("expectedMode").value;

    if (isNaN(completed) || completed < 0) return showError("Invalid completed hours.");
    if (isNaN(currentGpa) || currentGpa < 0 || currentGpa > 4) return showError("Invalid current GPA.");
    if (isNaN(newHours) || newHours <= 0) return showError("Invalid semester hours.");

    let newSemesterGpa;

    if (mode === "gpa") {
        const sgpa = Number(document.getElementById("expectedSemesterGpa").value);
        if (isNaN(sgpa) || sgpa < 0 || sgpa > 4) return showError("Invalid expected semester GPA.");
        newSemesterGpa = sgpa;
    } else {
        const grade = Number(document.getElementById("expectedSemesterGrade").value);
        if (isNaN(grade) || grade < 0 || grade > 100) return showError("Invalid expected grade.");
        newSemesterGpa = convertToGPA(grade);
    }

    const oldPoints = completed * currentGpa;
    const newPoints = newHours * newSemesterGpa;

    const expected = (oldPoints + newPoints) / (completed + newHours);
    const finalGpa = expected.toFixed(2);

    document.getElementById("expected-gpa-value").textContent = finalGpa;

    const merit = getMerit(expected);
    const meritEl = document.getElementById("expected-merit");
    meritEl.textContent = " " + merit.t;
    meritEl.style.color = merit.c;
}

window.onload = () => onExpectedModeChange();
</script>

</body>
</html>
