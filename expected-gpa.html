<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AOU GPA Calculator – Expected GPA Forecast</title>

    <meta name="description" content="Estimate your expected GPA at the end of the semester based on your current GPA, completed credit hours, and this semester's courses.">
    <meta name="author" content="Homam Shaaban">
    <meta name="robots" content="index, follow">

    <style>
        body {
            font-family: 'Roboto', Arial, sans-serif;
            background: #f4f6fb;
            margin: 0;
            padding: 0;
            color: #ffffff;
        }

        .bg-wrapper {
            background: linear-gradient(135deg, rgba(34,193,195,1) 0%, rgba(10,93,150,1) 100%);
            min-height: 100vh;
            padding: 40px 15px 60px;
        }

        .container {
            max-width: 800px;
            margin: auto;
            background: rgba(0, 32, 63, 0.82);
            padding: 40px;
            border-radius: 18px;
            box-shadow: 0 0 25px rgba(0,0,0,0.35);
            position: relative;
        }

        .logo-container {
            text-align: center;
            margin-bottom: 10px;
        }
        .logo-container img {
            width: 155px;
        }

        h1 {
            text-align: center;
            font-size: 2.3em;
            margin-bottom: 10px;
        }

        .subtitle {
            text-align: center;
            opacity: 0.85;
            margin-bottom: 20px;
        }

        input, select, button {
            width: 100%;
            padding: 11px;
            font-size: 1em;
            border-radius: 8px;
            border: 2px solid rgba(255,255,255,0.7);
            background: rgba(255,255,255,0.18);
            color: #ffffff;
            margin-bottom: 15px;
        }

        /* --- Select style --- */
        select {
            appearance: none;
            -webkit-appearance: none;
            -moz-appearance: none;
            cursor: pointer;
            background-image: url("data:image/svg+xml;utf8,<svg fill='white' height='14' viewBox='0 0 20 20' width='14' xmlns='http://www.w3.org/2000/svg'><path d='M5.516 7.548a.625.625 0 0 1 .884 0L10 11.156l3.6-3.608a.625.625 0 1 1 .884.884l-4.042 4.05a.625.625 0 0 1-.884 0L5.516 8.432a.625.625 0 0 1 0-.884z'/></svg>");
            background-repeat: no-repeat;
            background-position: right 12px center;
        }

        option {
            background-color: #002b4c;
            color: #ffffff;
        }

        button {
            background: #f7b500;
            color: #002b4c;
            font-weight: bold;
            cursor: pointer;
        }
        button:hover {
            background: #ffcc33;
        }

        .back-home {
            position: absolute;
            top: 15px;
            left: 15px;
            padding: 7px 13px;
            border-radius: 8px;
            border: 2px solid rgba(255,255,255,0.7);
            background: transparent;
            color: #ffffff;
            font-size: 0.9em;
            cursor: pointer;
        }

        .expected-section {
            padding: 20px;
            border-radius: 14px;
            background: rgba(0,0,0,0.18);
            border: 1px solid rgba(255,255,255,0.25);
            margin-bottom: 20px;
        }

        .expected-grid {
            display: grid;
            grid-template-columns: repeat(2,1fr);
            gap: 15px;
        }

        .expected-actions {
            text-align: center;
            margin-top: 10px;
        }

        .expected-result {
            text-align: center;
            font-size: 1.3em;
            margin-top: 12px;
        }

        #expected-error {
            display: none;
            margin-top: 10px;
            padding: 10px;
            background: rgba(255,0,0,0.20);
            border: 1px solid rgba(255,120,120,0.9);
            border-radius: 8px;
            color: #ffd1d1;
        }

        /* HOW TO USE + ABOUT */
        .instructions, .about {
            margin-top: 25px;
            border-top: 1px solid rgba(255,255,255,0.3);
            padding-top: 15px;
            font-size: 0.95em;
        }

        footer {
            margin-top: 25px;
            text-align: center;
            font-size: 0.85em;
            opacity: 0.85;
        }
        footer a {
            color: #ffd966;
            text-decoration: none;
        }

        @media(max-width:600px) {
            .expected-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>

<div class="logo-container">
    <img src="aou-logo.png" alt="AOU Logo">
</div>

<div class="bg-wrapper">
<div class="container">

<button class="back-home" onclick="location.href='index.html'">← Home</button>

<h1>Expected GPA Forecast</h1>
<p class="subtitle">Estimate your expected GPA at the end of this semester.</p>

<!-- ================= EXPECTED GPA SECTION ================= -->
<div class="expected-section">
    <div class="expected-grid">

        <div>
            <label>Total completed credit hours</label>
            <input type="number" id="completedHours" min="0" placeholder="e.g., 60">
        </div>

        <div>
            <label>Current cumulative GPA (0–4)</label>
            <input type="number" id="currentGpa" min="0" max="4" step="0.01" placeholder="e.g., 2.75">
        </div>

        <div>
            <label>Credit hours this semester</label>
            <input type="number" id="newSemesterHours" min="1" placeholder="e.g., 15">
        </div>

        <div>
            <label>Input type for this semester</label>
            <select id="expectedMode" onchange="onExpectedModeChange()">
                <option value="gpa">Expected semester GPA (0–4)</option>
                <option value="grade">Expected average grade (0–100)</option>
            </select>
        </div>

        <div>
            <label>Expected semester GPA (0–4)</label>
            <input type="number" id="expectedSemesterGpa" min="0" max="4" step="0.01" placeholder="e.g., 3.20">
        </div>

        <div>
            <label>Expected average grade (0–100)</label>
            <input type="number" id="expectedSemesterGrade" min="0" max="100" placeholder="e.g., 85">
        </div>

    </div>

    <div class="expected-actions">
        <button onclick="calculateExpectedGPA()">Calculate Expected GPA</button>
    </div>

    <div id="expected-error"></div>

    <div class="expected-result">
        Expected GPA: <span id="expected-gpa-value">–</span>
        <span id="expected-merit"></span>
    </div>
</div>

<!-- ================= HOW TO USE (EN + AR) ================= -->
<div class="instructions">
    <h2 style="text-align:center;">How to Use</h2>
    <ul style="list-style-position: inside;">
        <li><strong>Completed Hours:</strong> Enter how many credit hours you have finished so far.</li>
        <li><strong>Current GPA:</strong> Enter your official cumulative GPA (0–4 scale).</li>
        <li><strong>This Semester Hours:</strong> Enter the number of credit hours you are registered for.</li>
        <li><strong>Expected Input:</strong> Choose between entering expected GPA or expected grade (0–100).</li>
        <li><strong>Calculate:</strong> Click on “Calculate Expected GPA” to see your predicted final GPA.</li>
    </ul>

    <div dir="rtl" style="margin-top:15px;">
        <h2 style="text-align:center;">كيفية الاستخدام</h2>
        <ul style="list-style-position: inside;">
            <li><strong>عدد الساعات المنجزة:</strong> أدخل مجموع الساعات التي أتممتها حتى الآن.</li>
            <li><strong>المعدل التراكمي الحالي:</strong> أدخل معدلك الرسمي الحالي من 4.</li>
            <li><strong>ساعات هذا الفصل:</strong> أدخل عدد الساعات المسجلة خلال الفصل.</li>
            <li><strong>طريقة الإدخال:</strong> اختر إذا كنت تريد إدخال المعدل المتوقع أو الدرجة المتوقعة.</li>
            <li><strong>الحساب:</strong> اضغط على “Calculate Expected GPA” لمعرفة معدلك المتوقع.</li>
        </ul>
    </div>
</div>

<!-- ================= ABOUT THIS TOOL ================= -->
<div class="about">
    <h2 style="text-align:center;">About This Tool</h2>
    <p>
        The Expected GPA Forecast module is part of the AOU GPA Calculator project.
        It helps students estimate their final cumulative GPA based on completed credits,
        current GPA, and expected performance in the current semester.
    </p>
    <p>
        This tool is for academic guidance only and does not replace the official GPA system used by the university.
    </p>

    <div dir="rtl" style="margin-top:15px;">
        <p>
            تم إنشاء هذه الأداة لمساعدة طلاب الجامعة العربية المفتوحة في توقع معدلهم التراكمي
            بنهاية الفصل بناءً على الساعات المنجزة، والمعدل الحالي، والأداء المتوقع خلال الفصل.
        </p>
        <p>
            الأداة مخصصة لأغراض إرشادية فقط ولا تغني عن النظام الرسمي المستخدم في حساب المعدل.
        </p>
    </div>
</div>

<footer>
    © 2025 – AOU GPA Calculator. Developed by Homam Shaaban.
</footer>

</div>
</div>

<script>
function convertToGPA(g) {
    if (g >= 90) return 4.0;
    if (g >= 82) return 3.5;
    if (g >= 74) return 3.0;
    if (g >= 66) return 2.5;
    if (g >= 58) return 2.0;
    if (g >= 50) return 1.5;
    return 0.0;
}

function getMerit(g) {
    if (g >= 3.67) return {t:"– Excellent", c:"#7CFC00"};
    if (g >= 3.00) return {t:"– Very Good", c:"#ADFF2F"};
    if (g >= 2.33) return {t:"– Good", c:"#F0E68C"};
    if (g >= 2.00) return {t:"– Pass", c:"#FFD700"};
    return {t:"– Fail", c:"#FF4C4C"};
}

function onExpectedModeChange() {
    const mode = document.getElementById("expectedMode").value;
    document.getElementById("expectedSemesterGpa").disabled = (mode !== "gpa");
    document.getElementById("expectedSemesterGrade").disabled = (mode !== "grade");

    if (mode === "gpa") document.getElementById("expectedSemesterGrade").value = "";
    else document.getElementById("expectedSemesterGpa").value = "";
}

function showError(msg) {
    const el = document.getElementById("expected-error");
    el.textContent = msg;
    el.style.display = "block";
}

function clearError() {
    const el = document.getElementById("expected-error");
    el.textContent = "";
    el.style.display = "none";
}

function calculateExpectedGPA() {
    clearError();

    const completed = Number(document.getElementById("completedHours").value);
    const currentGpa = Number(document.getElementById("currentGpa").value);
    const newHours = Number(document.getElementById("newSemesterHours").value);
    const mode = document.getElementById("expectedMode").value;

    if (isNaN(completed) || completed < 0) return showError("Invalid completed hours.");
    if (isNaN(currentGpa) || currentGpa < 0 || currentGpa > 4) return showError("Invalid current GPA.");
    if (isNaN(newHours) || newHours <= 0) return showError("Invalid semester hours.");

    let newSemesterGpa;

    if (mode === "gpa") {
        const sgpa = Number(document.getElementById("expectedSemesterGpa").value);
        if (isNaN(sgpa) || sgpa < 0 || sgpa > 4) return showError("Invalid expected semester GPA.");
        newSemesterGpa = sgpa;
    } else {
        const grade = Number(document.getElementById("expectedSemesterGrade").value);
        if (isNaN(grade) || grade < 0 || grade > 100) return showError("Invalid expected grade.");
        newSemesterGpa = convertToGPA(grade);
    }

    const oldPoints = completed * currentGpa;
    const newPoints = newHours * newSemesterGpa;
    const expected = (oldPoints + newPoints) / (completed + newHours);

    const finalGpa = expected.toFixed(2);

    document.getElementById("expected-gpa-value").textContent = finalGpa;

    const merit = getMerit(expected);
    const meritEl = document.getElementById("expected-merit");
    meritEl.textContent = " " + merit.t;
    meritEl.style.color = merit.c;
}

window.onload = () => onExpectedModeChange();
</script>

</body>
</html>
